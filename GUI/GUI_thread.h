/*
 * GUI_thread.h
 *
 *  Created on: 02.10.2017
 *      Author: Dennis Krummacker
 */

#ifndef DENKREMENT__GUI__GUI_THREAD__H
#define DENKREMENT__GUI__GUI_THREAD__H




//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//--------  Preamble, Inclusions  ------------------------------------------------------------------//
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//==================================================================================================//
// At first include this ----------------------------------------------------------
//---------------------------------------------------------------------------------
//#include "./global/global_settings.h"
//#include "./global/global_variables.h"
// Need this for e.g. some really fundamental Program Basics (if any)  ------------
//---------------------------------------------------------------------------------
//#include "DenKrement_base.h"
// Then better start with this  ---------------------------------------------------
//---------------------------------------------------------------------------------
//#include "DenKrement.h"
//==================================================================================================//
//==================================================================================================//
//==================================================================================================//
//Just to nicely keep order:  -----------------------------------------------------
//   First include the System / Third-Party Headers  ------------------------------
//   Format: Use <NAME> for them  -------------------------------------------------
//---------------------------------------------------------------------------------
//#include <stdlib.h>
//==================================================================================================//
//==================================================================================================//
//==================================================================================================//
//Then include own Headers  -------------------------------------------------------
//   Format: Use "NAME" for them  -------------------------------------------------
//---------------------------------------------------------------------------------
//#include "DenKr_essentials/auxiliary.h"
//==================================================================================================//
//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//







//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////
//==================================================================================================//
//--------------------------------------------------------------------------------------------------//
//----  Thread Spawning  ---------------------------------------------------------------------------//
//----      Macro to do so  ------------------------------------------------------------------------//
//----      Structure for Argument-Passing  --------------------------------------------------------//
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//----------------------------------------------------------------------------------------------------
struct GUI_ThreadArgPassing {
	ThreadManager* thrall;//The ThreadManager. Contains the two Arrays: pthread* allThreads: Mainly to start the listen thread inside. DenKr_ThreadSpawned* runningThreads: Passed to record the Listening-Thread as running;
	struct ShMemHeader *shmem_headers;//An Array
	char threadUsed;
};

#define GUI_START_THREAD \
		{\
		DENKR_START_THREAD_PATTERN(false,\
									DenKrement_thread_GUI,\
									DENKREMENT_THREAD__GUI,\
									PTHREAD_CREATE_JOINABLE,\
										struct GUI_ThreadArgPassing *ThreadArgPass;\
										\
										ThreadArgPass = malloc(sizeof(*ThreadArgPass));\
										ThreadArgPass->thrall=thrall;\
										ThreadArgPass->shmem_headers=shmem_headers;\
										ThreadArgPass->threadUsed=cfg_main.threadUsed;\
								)\
		/*switch(return_macro_denkr_start_thread_0){}//Currently don't care about "Return" of the Macro*/\
		}
// Possibilites for "setdetachstate":
//   - PTHREAD_CREATE_JOINABLE
//   - PTHREAD_CREATE_DETACHED
//
//----------------------------------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////








//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////
//==================================================================================================//
//--------------------------------------------------------------------------------------------------//
//----  Functions to be visible outside  -----------------------------------------------------------//
//----      (external)  ----------------------------------------------------------------------------//
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//----------------------------------------------------------------------------------------------------
#ifndef NO__DENKREMENT__GUI__GUI_THREAD__C__FUNCTIONS
extern void* DenKrement_thread_GUI(void* arg);
#endif
//----------------------------------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////







#endif /* DENKREMENT__GUI__GUI_THREAD__H */
